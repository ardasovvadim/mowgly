<div class="news-tournament-table">
  <table class="uk-table uk-table-divide uk-table-justify" (mouseleave)="currentRowIndex = -1">

    <caption>{{tournament?.name}}</caption>

    <thead>
    <tr>
      <th>Место</th>
      <th>Имя</th>
      <th>Награды</th>
      <th>Счет</th>
      <th>Дополнительная информация</th>
      <th>
        <div>
          <a class="uk-icon-button" uk-icon="plus" (click)="addNewResult()"></a>
        </div>
      </th>
    </tr>
    </thead>

    <tbody>
    <ng-template [ngIf]="tournament && tournament.results && tournament.results.length" [ngIfElse]="resultsEmpty">
      <tr *ngFor="let result of tournament.results; let i = index" (mouseenter)="currentRowIndex = i" class="uk-animation-fade uk-animation-fast">
        <td>{{result.place}}</td>
        <td>{{result.student.name}}</td>
        <td>{{result.awards}}</td>
        <td>{{result.score}}</td>
        <td>{{result.additionalInfo}}</td>
        <td>
          <div [style.visibility]="currentRowIndex != i ? 'hidden' : ''">
            <a class="uk-icon-button" uk-icon="pencil" (click)="manageTournament(result)"></a>
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template #resultsEmpty>
      <tr *ngFor="let i of [1, 2, 3]">
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </ng-template>
    </tbody>

  </table>
</div>

<mg-manage-tournament-result-modal #manageModal></mg-manage-tournament-result-modal>
