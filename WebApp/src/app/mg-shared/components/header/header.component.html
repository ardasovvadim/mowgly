<nav class="row align-items-stretch">

    <div class="col-auto">
        <a routerLink="/">
            <img class="logo-image" src="/assets/img/logo.webp" loading="lazy" alt="logo">
        </a>
    </div>

    <div *ngIf="isLargeMenu" class="col-auto menu-lg">

        <div class="mg-navbar">
            <div *ngFor="let link of links" class="mg-navbar-item">

                <div class="wrapper">
                    <a [class.mr-5]="!!link.children"
                       [routerLink]="link.link"
                       (click)="onRouteChange(null)"
                       routerLinkActive="active">{{link.name}}</a>
                    <span *ngIf="!!link.children" uk-icon="chevron-down"></span>
                </div>

                <div *ngIf="!!link.children" class="uk-navbar-dropdown" uk-dropdown>
                    <ul *ngFor="let sublink of link.children" class="uk-nav uk-navbar-dropdown-nav">
                        <li><a [routerLink]="sublink.link"
                               (click)="onRouteChange(sublink.link)"
                               routerLinkActive="active">{{sublink.name}}</a></li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

    <div *ngIf="isLargeMenu" class="col-auto d-flex ml-auto">

        <div class="avatar">
            <a *ngIf="isAuthenticated$ | async; else login" (click)="logout()">Вийти</a>
            <ng-template #login>
                <a *ngIf="!(isAuthenticated$ | async)" routerLink="/login">Увійти</a>
            </ng-template>

            <mg-user-avatar [size]="64" (click)="goToProfile()"></mg-user-avatar>
        </div>

        <div class="contacts">
            <a href="tel:+380 (067) 700-555-3">+380 (067) 700-555-3</a>
            <a href="tel:+380 (063) 700-555-3">+380 (063) 700-555-3</a>
        </div>

    </div>

    <div *ngIf="!isLargeMenu" class="col-auto ml-auto">
        <a class="uk-navbar-toggle" uk-toggle="target: #offcanvas-overlay" uk-navbar-toggle-icon></a>
    </div>

    <a href="#offcanvas" data-uk-offcanvas>Open</a>
    <div id="offcanvas" class="uk-offcanvas">
        <div class="uk-offcanvas-bar"></div>
    </div>


    <div *ngIf="!isLargeMenu" id="offcanvas-overlay" uk-offcanvas="overlay: true; flip: true">
        <div class="uk-offcanvas-bar">

            <button class="uk-button uk-offcanvas-close uk-button-icon back-btn"><img
                    src="/assets/img/long-arrow-green.svg" alt="arrow"></button>

            <div class="mg-burger-navbar">

                <div *ngFor="let link of links" class="mg-burger-navbar-item">
                    <a (click)="onRouteChange(link.link)"
                       [routerLink]="link.link"
                       routerLinkActive="active" class="uk-h2">{{link.name}}</a>
                    <hr>
                    <div *ngIf="!!link.children" class="mg-burger-subnavbar">
                        <a *ngFor="let sublink of link.children"
                           [routerLink]="sublink.link"
                           (click)="onRouteChange(sublink.link)"
                           routerLinkActive="active" class="uk-display-block">{{sublink.name}}</a>
                    </div>
                </div>

                <div class="mg-burger-navbar-item">
                    <a class="uk-h2">Контактная информация</a>
                    <hr>
                    <div class="uk-margin">
                        <a class="mg-text-white" href="https://www.instagram.com/mowgly.karate.club/"
                           target="_blank">
                            <span class="uk-margin-small-right" uk-icon="icon: instagram;"></span> Instagram
                        </a>
                    </div>
                    <div class="uk-margin">
                        <a class="mg-text-white" href="https://www.facebook.com/JungleTeamMowgly/"
                           target="_blank">
                            <span class="uk-margin-small-right" uk-icon="icon: facebook;"></span> Facebook
                        </a>
                    </div>
                    <div class="uk-margin">
                        <a class="mg-text-white" href="tel:+380 (067) 700-555-3"
                           target="_blank">
                            <span class="uk-margin-small-right" uk-icon="icon: receiver;"></span> +380 (067) 700-555-3
                        </a>
                    </div>
                    <div class="uk-margin">
                        <a class="mg-text-white" href="tel:+380 (063) 700-555-3"
                           target="_blank">
                            <span class="uk-margin-small-right" uk-icon="icon: receiver;"></span> +380 (063) 700-555-3
                        </a>
                    </div>
                    <div class="uk-margin">
                        <a class="mg-text-white" href="mailto:mowglyteam@gmail.com" target="_blank">
                            <span class="uk-margin-small-right" uk-icon="icon: mail;"></span> mowglyteam@gmail.com
                        </a>
                    </div>
                </div>

            </div>

        </div>
    </div>

</nav>
