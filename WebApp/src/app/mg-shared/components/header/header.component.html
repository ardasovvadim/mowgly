<nav class="row align-items-stretch">

    <div class="col-auto">
        <img routerLink="/" class="logo-image" src="/assets/img/logo.png" alt="logo">
    </div>

    <div *ngIf="isLargeMenu" class="col-auto menu-lg">

        <div class="mg-navbar">
            <div *ngFor="let link of links" class="mg-navbar-item">

                <div class="wrapper">
                    <a [class.mr-5]="!!link.children" (click)="goToLink(link.link)"
                       routerLinkActive="active">{{link.name}}</a>
                    <span *ngIf="!!link.children" uk-icon="chevron-down"></span>
                </div>

                <div *ngIf="!!link.children" class="uk-navbar-dropdown" uk-dropdown>
                    <ul *ngFor="let sublink of link.children" class="uk-nav uk-navbar-dropdown-nav">
                        <li><a (click)="goToLink(sublink.link)" routerLinkActive="active">{{sublink.name}}</a></li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

    <div *ngIf="isLargeMenu" class="col-auto d-flex ml-auto">

        <div class="avatar">
            <a *ngIf="isAuthenticated$ | async; else login" (click)="logout()">Выйти</a>
            <ng-template #login>
                <a *ngIf="!(isAuthenticated$ | async)" routerLink="/login">Войти</a>
            </ng-template>

            <mg-user-avatar [size]="64" (click)="goToProfile()"></mg-user-avatar>
        </div>

        <div class="contacts">
            <a href="tel:+380 (067) 700-555-3">+380 (067) 700-555-3</a>
            <a href="tel:+380 (063) 700-555-3">+380 (063) 700-555-3</a>
        </div>

    </div>

    <div *ngIf="!isLargeMenu" class="col-auto ml-auto">
        <a class="uk-navbar-toggle" uk-toggle="target: #offcanvas-overlay" uk-navbar-toggle-icon></a>
    </div>

    <a href="#offcanvas" data-uk-offcanvas>Open</a>
    <div id="offcanvas" class="uk-offcanvas">
        <div class="uk-offcanvas-bar"></div>
    </div>


    <div *ngIf="!isLargeMenu" id="offcanvas-overlay" uk-offcanvas="overlay: true; flip: true">
        <div class="uk-offcanvas-bar">

            <button class="uk-button uk-offcanvas-close uk-button-icon back-btn"><img
                    src="/assets/img/long-arrow-green.svg" alt="arrow"></button>

            <div class="mg-burger-navbar">

                <div *ngFor="let link of links" class="mg-burger-navbar-item">
                    <a (click)="goToLink(link.link)" routerLinkActive="active" class="uk-h2">{{link.name}}</a>
                    <hr>
                    <div *ngIf="!!link.children" class="mg-burger-subnavbar">
                        <a *ngFor="let sublink of link.children" (click)="goToLink(sublink.link)"
                           routerLinkActive="active" class="uk-display-block">{{sublink.name}}</a>
                    </div>
                </div>

                <div class="mg-burger-navbar-item">
                    <a class="uk-h2">Контактная информация</a>
                    <hr>

                    <div class="mg-contact-row">
                        <div class="wrapper">
                            <mg-icon icon="email" color="green-main"></mg-icon>
                            <span>Основная</span>
                        </div>
                        <a href="">mowglyteam@gmail.com</a>
                    </div>
                    <div class="mg-contact-row">
                        <div class="wrapper">
                            <mg-icon icon="email" color="green-main"></mg-icon>
                            <span>Запасная</span>
                        </div>
                        <a href="">sensei@mowgly.com.ua</a>
                    </div>
                    <div class="mg-contact-row">
                        <div class="wrapper">
                            <mg-icon icon="phone" color="green-main"></mg-icon>
                            <span>Kyivstar</span>
                        </div>
                        <a href="">+380 (067) 700-555-3</a>
                    </div>
                    <div class="mg-contact-row">
                        <div class="wrapper">
                            <mg-icon icon="phone" color="green-main"></mg-icon>
                            <span>Life</span>
                        </div>
                        <a href="">+380 (063) 700-555-3 </a>
                    </div>
                </div>

            </div>

        </div>
    </div>

</nav>
